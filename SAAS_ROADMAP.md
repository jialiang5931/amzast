# AMZAST 商业版实施路线图与成本预算 (SaaS Implementation Roadmap)

为了实现您提到的账号登录、项目提取和管理员后台功能，我们需要将应用从“静态工具”升级为“全栈平台”。以下是详细方案：

---

## 1. 技术架构选型 (Technical Setup)

### 1.1 核心全栈框架：Next.js
*   **理由**：您现在的代码是 React，Next.js 是 React 的官方推荐全栈框架。它可以同时处理前端 UI、后端 API 和数据库连接。
*   **优势**：无需分开维护前后端，开发效率极高。

### 1.2 身份认证 (Auth)：NextAuth.js + Credentials Provider
*   **方案**：实现“账号密码登录”。禁用“注册”功能，仅保留“登录”入口。
*   **管理员后台**：开发一个简单的 `/admin` 页面，仅限您的管理员账号访问，用于手动给公司同事录入账号和密码。

### 1.3 数据库 (Database)：PostgreSQL
*   **方案**：使用 **Prisma** 驱动。
*   **存储内容**：
    *   `Users` 表：存储同事的账号信息。
    *   `Projects` 表：存储用户保存的搜索列表（JSON 格式）和分析报告元数据。

---

## 2. 准备工作 (Preparation)

1.  **代码重构**：将现有的 Vite 项目迁移到 Next.js 结构（核心逻辑如 `data-parser.ts` 可直接复用）。
2.  **云平台账号**：
    *   **Vercel** 账号（用于托管应用）。
    *   **Supabase** 或 **TiDB Cloud** 账号（快速获取免费/低成本的云端 PostgreSQL 数据库）。
3.  **域名**：虽然没有要求，但建议选购一个 `.com` 或 `.net` 域名（约 70-100 元/年）。

---

## 3. 功能实现路径 (Feature Roadmap)

### 阶段 1：部署与登录 (约 1 周)
*   将项目部署至 Vercel。
*   实现账户登录逻辑。
*   **成果**：应用不再是谁都能进，必须有账号才能进入核心页面。

### 阶段 2：管理员后台 (约 0.5 周)
*   实现管理员录入账号的功能。
*   **成果**：您可以直接在网页上给同事开通账号，无需手动改代码。

### 阶段 3：“我的项目” 持久化 (约 1-2 周)
*   在数据库中创建项目表。
*   在分析结果栏增加“保存到项目”按钮。
*   开发“我的项目”列表页，点击可重新加载历史分析结果。
*   **成果**：用户可以随时查看半个月前上传并分析过的数据。

---

## 4. 费用评估 (Cost Estimate)

这是一个非常低成本的起步方案，甚至可以**从 $0 开始**：

| 项目 | 建议服务商 | 费用 (初期/内部使用) | 说明 |
| :--- | :--- | :--- | :--- |
| **应用托管** | Vercel (Hobby) | **$0** | 个人版免费，支持私有 Git 仓库。 |
| **数据库** | Supabase / Railway | **$0** | 提供 500MB - 1GB 的免费存储，足够公司内部使用。 |
| **身份认证** | NextAuth.js | **$0** | 开源库，无月费。 |
| **域名** | NameSilo / 阿里云 | **￥70 - ￥100 / 年** | 唯一的硬性成本。 |
| **总计** | | **约 ￥8/月** | **几乎可以忽略不计。** |

**注意**：如果未来用户量超过 20 人，或者每个用户保存的项目特别多（导致数据库超过 500MB），数据库可能需要升级到付费版（约 $20/月）。

---

## 5. 核心逻辑变动提示

*   **数据存储**：由于现在的 Excel 数据解析结果体积较大（可能几百 KB），不能直接塞进传统的数据库字段。我们会采用 **“数据库存元数据 + OSS/云存储存 JSON”** 的方案，确保读取速度快且成本低。

您觉得这个方案是否符合您的预期？如果 OK，我们可以先从“部署上线”这一步开始准备。
